‚úÖ PROMPT FINAL ‚Äî IA MANUS
Simulador Completo de Pagamentos de Bonifica√ß√£o Salarial com Regras Vari√°veis

Manus, quero que voc√™ crie um sistema completo chamado ‚ÄúSimulador de Pagamentos de Bonifica√ß√£o Salarial‚Äù, com suporte total a:

Importa√ß√£o em lote via CSV

Bonifica√ß√µes configur√°veis por fun√ß√£o, equipe ou funcion√°rio

Regras de preced√™ncia para determinar qual bonifica√ß√£o aplicar

Tr√™s formatos de bonifica√ß√£o: hora extra, premia√ß√£o ou vale-alimenta√ß√£o

Simula√ß√µes independentes com registro hist√≥rico

Resumo detalhado por funcion√°rio e por equipe

Exporta√ß√µes em PDF e Excel

Uso de IA para an√°lise, detec√ß√£o de erros e gera√ß√£o de relat√≥rios executivos

Siga exatamente todas as instru√ß√µes abaixo.

üîµ 1. CRIE AS TABELAS DE BASE
Tabela: Funcionarios

employee_id

nome

funcao

equipe

salario_base

horas_padrao_mes

encargos_percentuais

observacoes

Tabela: RegrasBonificacao

(para regras vari√°veis por fun√ß√£o / equipe / funcion√°rio / global)
Campos:

regra_id

scope_type (individual, funcao, equipe, global)

scope_value (ex.: ‚ÄúMotorista‚Äù, ‚ÄúEquipe A‚Äù, employee_id ou ‚ÄúGLOBAL‚Äù)

tipo (hora_extra, premiacao, vale_alimentacao)

metodo (fixo, percentual, multiplicador_hora)

valor

data_inicio

data_fim

ativo

Tabela: Simulacoes

simulacao_id

nome_da_simulacao

tipo_bonificacao

parametros_json

data_criacao

Tabela: ResultadosSimulacao

simulacao_id

employee_id

bonus_value

encargos_value

total_cost

regra_id_aplicada

üîµ 2. IMPORTA√á√ÉO DE FUNCION√ÅRIOS E REGRAS VIA CSV

Criar um fluxo na Manus que permita:

Importar funcion√°rios (CSV):

Mapeamento autom√°tico de colunas (usando IA)

Valida√ß√£o de:

Sal√°rios

Horas mensais

Encargos

Inclus√£o/atualiza√ß√£o na tabela Funcionarios

Importar Regras de Bonifica√ß√£o (CSV):

Estrutura padr√£o:

regra_id,scope_type,scope_value,tipo,metodo,valor,data_inicio,data_fim,ativo


IA deve mapear colunas mesmo com cabe√ßalhos diferentes

Validar conflitos, datas, formatos e campos obrigat√≥rios

Edi√ß√£o e exclus√£o em massa

Sele√ß√£o m√∫ltipla

Alterar fun√ß√£o, equipe, sal√°rio, encargos

Excluir v√°rios funcion√°rios ou regras de uma vez

üîµ 3. PAR√ÇMETROS DO SIMULADOR

Criar uma tela na Manus para permitir entrada dos seguintes dados:

Tipo de bonifica√ß√£o (hora extra, premia√ß√£o, vale-alimenta√ß√£o)

Horas extras (quando aplic√°vel)

Multiplicador de hora extra (se n√£o houver regra espec√≠fica)

Valor de pr√™mio (fixo ou % sobre sal√°rio)

Valor de vale-alimenta√ß√£o

Toggle:

Vale-alimenta√ß√£o integra sal√°rio? SIM / N√ÉO

Premia√ß√£o inclui encargos? SIM / N√ÉO

üîµ 4. ALGORITMO DE SELE√á√ÉO DE REGRA DE BONIFICA√á√ÉO

Criar fun√ß√£o no fluxo que determina a regra aplic√°vel obedecendo esta preced√™ncia obrigat√≥ria:

Regra individual

Regra por fun√ß√£o

Regra por equipe

Regra global

Par√¢metro informado manualmente na simula√ß√£o (apenas se nenhuma regra existir)

A Manus deve implementar essa l√≥gica:
obter_regra_aplicavel(employee_id, funcao, equipe, tipo, data_simulacao):

    verificar regra individual
    se existir ‚Üí retornar

    verificar regra por fun√ß√£o
    se existir ‚Üí retornar

    verificar regra por equipe
    se existir ‚Üí retornar

    verificar regra global
    se existir ‚Üí retornar

    retornar None  # usar valor inserido manualmente


Registrar no resultado da simula√ß√£o qual regra foi usada (regra_id_aplicada).

üîµ 5. C√ÅLCULO DA BONIFICA√á√ÉO POR TIPO
A. Bonifica√ß√£o como Hora Extra

F√≥rmulas a aplicar:

valor_hora = salario_base / horas_padrao_mes
multiplicador = regra.valor ou multiplicador_manual
valor_hora_extra = valor_hora * multiplicador
bonus_value = valor_hora_extra * horas_extra
encargos_value = (salario_base + bonus_value) * encargos_percentuais
total_cost = salario_base + bonus_value + encargos_value

B. Bonifica√ß√£o como Premia√ß√£o
se metodo == "fixo":
    bonus_value = valor
se metodo == "percentual":
    bonus_value = salario_base * valor


Encargos:

se incluir_encargos:
    encargos_value = (salario_base + bonus_value) * encargos_percentuais
sen√£o:
    encargos_value = salario_base * encargos_percentuais


Total:

total_cost = salario_base + bonus_value + encargos_value

C. Vale-Alimenta√ß√£o

Op√ß√£o 1 ‚Äì N√ÉO integra sal√°rio:

bonus_value = valor_vale
encargos_value = salario_base * encargos_percentuais
total_cost = salario_base + encargos_value + valor_vale


Op√ß√£o 2 ‚Äì integra sal√°rio:

bonus_value = valor_vale
encargos_value = (salario_base + bonus_value) * encargos_percentuais
total_cost = salario_base + bonus_value + encargos_value

üîµ 6. RESULTADOS OBRIGAT√ìRIOS DA SIMUL√ÉO
Por funcion√°rio:

Nome

Fun√ß√£o

Equipe

Sal√°rio base

Regras aplicadas (com ID da regra)

Valor da bonifica√ß√£o

Valor dos encargos

Total da folha com bonifica√ß√£o

Resumo por Equipe (obrigat√≥rio):

Nome da equipe

Lista de fun√ß√µes

Quantidade de funcion√°rios

Total dos sal√°rios

Total das bonifica√ß√µes

Total dos encargos

Coluna: Custo total da folha COM bonifica√ß√£o

Diferen√ßa percentual vs folha original

Totais gerais:

Total folha original

Total com bonifica√ß√£o

Aumento em R$

Aumento %

üîµ 7. EXPORTA√á√ÉO
Exportar EXCEL (.xlsx)

Com as abas:

Funcion√°rios

Regras de Bonifica√ß√£o

Par√¢metros da Simula√ß√£o

Resultado Detalhado

Resumo por Equipe

Exportar PDF

Com:

Nome da simula√ß√£o

Tipo de bonifica√ß√£o

Par√¢metros utilizados

Tabela consolidada por equipe

Totais gerais

Observa√ß√µes da IA

üîµ 8. USO DE IA MANUS NO PROCESSO
A IA Manus deve executar automaticamente:

Mapeamento de colunas dos CSVs

Identifica√ß√£o de erros ou campos ausentes

Recomenda√ß√µes de valores padr√£o para bonifica√ß√£o

Gera√ß√£o de resumo executivo autom√°tico da simula√ß√£o, incluindo:

Principais equipes impactadas

Diferen√ßa de custo entre cen√°rios

Tend√™ncias por fun√ß√£o

Compara√ß√£o de regras aplicadas

Compara√ß√£o entre duas ou mais simula√ß√µes anteriores

Sugest√£o de ajustes nas regras de bonifica√ß√£o

üîµ 9. INTERFACE / FLUXO A SER CRIADO NA MANUS

Importar Funcion√°rios (CSV)

Importar Regras de Bonifica√ß√£o (CSV)

Gerenciar Funcion√°rios (edi√ß√£o/exclus√£o em massa)

Gerenciar Regras de Bonifica√ß√£o (criar/editar/ativar/desativar)

Criar Simula√ß√£o

Processar C√°lculo

Visualizar Resultados

Resumo por Equipe

Exportar PDF / Excel

Relat√≥rio Executivo (IA)

üîµ 10. REGRAS FINAIS IMPORTANTES

Nunca sobrescrever a base original de funcion√°rios.

Toda simula√ß√£o deve ser salva como cen√°rio independente.

Registrar regra_id_aplicada para cada funcion√°rio (auditoria).

Se houver conflito de regras, seguir obrigatoriamente:
Individual > Fun√ß√£o > Equipe > Global > Valor manual

Permitir filtros por equipe e fun√ß√£o em todos os relat√≥rios.

IA deve gerar insights sempre que uma simula√ß√£o for conclu√≠da.

üîö FIM DO PROMPT ‚Äî EXECUTE TODA A CONFIGURA√á√ÉO COMPLETA
